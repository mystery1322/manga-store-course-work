/* product.css — простая локальная стилизация */
.product-root { max-width:1100px; margin:0 auto; }
.product-detail img { width:100%; height:auto; border-radius:8px; object-fit:cover; }
.product-detail h1 { margin:0 0 8px 0; font-size:1.6rem; color:#2a1365; }
.product-meta { color:#666; margin:6px 0; }
.btn { cursor:pointer; }
.cart-badge.hidden { display:none; }

/* мастер-правило для цен в карточках */
.product-card .price,
.card .price,
.price {
  color: #248E24 !important;
  font-weight: 600;
}

/* прячем стрелки / кнопки смены фото в карточке */
.product-card .photo-switch,
.product-card .photo-switch-btn,
.product-gallery .thumb-controls {
  display: none !important;
}

/* Скрываем круглые стрелки на product page (если они создаются скриптом) */
.gallery-arrow { display: none !important; }

/* Мобильный верх — показываем на узких экранах, скрыт на десктопе */
.mobile-top { display: none; margin-bottom: 12px; }
.mobile-top .product-title-mobile { font-size: 1.25rem; margin: 0 0 8px 0; color: var(--brand-blue, #1f1f8b); font-weight: 800; }
.mobile-top .price-mobile { font-weight: 800; font-size: 1.2rem; color: #248E24; }

/* На мобильных показываем мобильный верх и скрываем дублирующий заголовок из product-info */
@media (max-width: 720px) {
  .mobile-top { display: block; }
  .product-info .product-title { display: none; }
  .product-grid-detail { grid-template-columns: 1fr; gap: 18px; }
  .gallery-thumbs { overflow-x: auto; display: flex; }
}
/* Блок картинки в карточке товара — как в каталоге */
.gallery-main {
  aspect-ratio: 3/4;
  width: 100%;
  height: 310px;              /* как в каталоге */
  border-radius: 14px;        /* как в каталоге */
  overflow: hidden;
  background: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid #eee;
}

/* Картинка внутри — ведёт себя как в каталоге */
.gallery-main img {
  width: 100%;
  height: 100%;
  object-fit: cover;          /* главное — как в каталоге */
  display: block;
  border-radius: 14px;
  transition: opacity 0.18s ease;
}
.main-box{
  padding:140px 20px 40px;
}

/* ---- product page gallery ---- */
.product-gallery { position:relative; display:flex; flex-direction:column; gap:12px; align-items:center; }

/* === product responsive tweaks — mobile: column layout, title first === */
/* Поместить в конец style.css или в отдельный product.css (подключать на product.html) */

@media (max-width: 900px) {
  .main-box{
    padding: 85px 20px 40px;
    margin-top: 50px;
  }
  /* Переключаем сетку в простую колонку */
  .product-detail .product-grid-detail {
    display: flex !important;
    flex-direction: column;
    gap: 14px;
    align-items: stretch;
  }

  /* Делаем информацию (где заголовок, автор, описание) первой */
  .product-detail .product-info { order: 2; padding: 0 6px;}

  /* Галерея идёт после title/info */
  .product-detail .product-gallery { order: 1; width: 100%; padding: 0 6px; margin-bottom: 15px;}

  /* Снижаем высоту главного изображения, чтобы не «раздавливало» текст */
  .product-detail .gallery-current {
    max-height: 420px;
    width: 100%;
    height: auto;
    object-fit: contain;
    display: block;
  }

  /* Стрелки галереи деликатнее — чтобы не мешали */
  .product-detail .gallery-arrow {
    font-size: 20px;
    padding: 6px 10px;
    position: relative;
    top: 0;
    margin: 8px 6px;
  }

  /* Миниатюры — горизонтальный список под главным изображением */
  .product-detail .gallery-thumbs {
    display: flex;
    gap: 8px;
    overflow-x: auto;
    padding-bottom: 6px;
  }
  .product-detail .gallery-thumbs .thumb-btn img {
    width: 64px;
    height: 88px;
    object-fit: cover;
  }

  /* Текст: заголовок и другие данные более компактные */
  .product-detail .product-title {
    font-size: 1.2rem !important; /* не дать стать слишком большим */
    line-height: 1.05 !important;  /* плотнее строки, чтобы не было большого расстояния */
    margin-bottom: 8px;
    color: var(--brand-blue, #1f1f8b) !important; /* синий как в хедере */
    display: block;
    word-break: normal;
  }
  .product-detail .product-info .meta,
  .product-detail .product-info .desc {
    font-size: 0.95rem;
  }

  /* Цена и кнопка остаются внизу блока информации */
  .product-detail .product-info .price {
    font-size: 1.25rem;
    color: var(--brand-blue, #1f1f8b);
  }
  .product-detail .product-info .btn {
    margin-left: 6px;
  }

  /* Уменьшаем отступ content, если фиксированная шапка перекрывает : */
  .content, main {
    padding-top: 90px; /* если нужно, подкорректируй — зависит от header */
  }

  /* Обеспечиваем, что заголовок не перекрывается и видим */
  .product-detail .product-title {
    z-index: 1;
  }
}

/* Дополнительная страховка: если где-то меню/гамбургер скрывает элементы, даём title приоритет */
.page-product .product-detail .product-title {
  /* явный цвет и видимость — если правила перекрывают, это даст приоритет */
  color: var(--brand-blue, #1f1f8b) !important;
  display: block !important;
}

/* Если заголовок всё ещё «отсекался» из-за overflow — добавляем правило */
.product-detail, .product-detail * {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  box-sizing: border-box;
}

